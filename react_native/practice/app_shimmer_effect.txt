import React, {useState, useEffect} from 'react'
import { View, Text, ScrollView, StyleSheet, Image } from 'react-native'
import ShimmerPlaceholder from 'react-native-shimmer-placeholder'

const App = () => {

  const [views, setView] = useState ([
    {key: 1, userName: 'Pablo', content: 'Ipsum labore qui cupidatat ut ullamco laboris irure eu officia ut amet consectetur. Dolor magna irure minim aute voluptate dolore amet incididunt consectetur magna. Eu nostrud amet culpa adipisicing non.'},

    {key: 2, userName: 'Camila', content: 'Ipsum labore qui cupidatat ut ullamco laboris irure eu officia ut amet consectetur. Dolor magna irure minim aute voluptate dolore amet incididunt consectetur magna. Eu nostrud amet culpa adipisicing non.'},

    {key: 3, userName: 'Jenny', content: 'Ipsum labore qui cupidatat ut ullamco laboris irure eu officia ut amet consectetur. Dolor magna irure minim aute voluptate dolore amet incididunt consectetur magna. Eu nostrud amet culpa adipisicing non.'},
    
    {key: 4, userName: 'Another01', content: 'Ipsum labore qui cupidatat ut ullamco laboris irure eu officia ut amet consectetur. Dolor magna irure minim aute voluptate dolore amet incididunt consectetur magna. Eu nostrud amet culpa adipisicing non.'},

    {key: 5, userName: 'Another02', content: 'Ipsum labore qui cupidatat ut ullamco laboris irure eu officia ut amet consectetur. Dolor magna irure minim aute voluptate dolore amet incididunt consectetur magna. Eu nostrud amet culpa adipisicing non.'},
  ])

  const [visible, setVisible] = useState(false)

  useEffect(()=>{
    const timeOut = setTimeout(() => {
      setVisible(true)
    }, 1000)
    return () => {clearTimeout(timeOut)}
  })

  return (
    <View style={styles.mainContainer}>
    <Text style={styles.title}>Instagram</Text>

    <ScrollView>
      {views.map((item) => {return (
        <View key={item.key}> 
          <View>
            <Text style={styles.title}>{item.userName}</Text>
        <ShimmerPlaceholder
        style={{height: 100, width: '100%', padding: 20}}
        autoRun
        visible={visible}
        >
            <Text style={styles.contentPost}>{item.content}</Text>
        </ShimmerPlaceholder>
          </View>
        </View>
      )})}
    </ScrollView>
    </View>
  )
}

export default App

const styles = StyleSheet.create({
  mainCointainer: {
    flex: 1,
    padding: 20,
    justifyContent: 'center'
  },
  title:{
    fontSize: 22,
    textAlign: 'center',
    color: '#4444',
    padding: 10
  },
  contentPost:{
    padding: 20,
    fontSize: 18
  }
})