import React, { Component } from 'react'
import { Text, View, TextInput, Picker, Switcher, 
  Button, StyleSheet, StatusBar } from 'react-native'


export default class App extends Component {
  constructor(props){
    super(props);
    this.state = {
      score: 0,
      time: 0,
      choicesRange: 0,
      pcChoice: '',
      playerChoice: ''
    }
  }

  pcChoice = () => {

    //GENERATE PC CHOICE
    const valuesChoice = [1,2,3]
    const pcChoice = Math.ceil(Math.random(valuesChoice)*3)
    this.setState({pcChoice: pcChoice})
    switch(pcChoice){
      case(1):
        return this.setState({pcChoice: 'Rock'})
        break;
      case(2):
        return this.setState({pcChoice: 'Papper'})
        break;
      case(3):
        return this.setState({pcChoice: 'Scissor'})
    }
    //PLAYER CHOICE
    switch(Picker.id){
      case(1):
      return this.setState({playerChoice: 'Rock'})
      break;
      case(2):
      return this.setState({playerChoice: 'Papper'})
      break;
      case(3):
      return this.setState({playerChoice: 'Scissor'})
      break;
    }

  }


  render() {
    return (
      <View style={styles.mainContainer}>
        <Text> Rock Papper and Scissor</Text>
        <Picker
        onValueChange={((itemValue, itemIndex) => this.setState({playerChoice: itemValue})).bind(this.pcChoice)}
        testID='11'
        >
        <Picker.Item label ='Select a weapon' value='0'/>
        <Picker.Item label ='Rock' value='1'/>
        <Picker.Item label ='Papper' value='2'/>
        <Picker.Item label ='Scissor' value='3'/>
        </Picker>
        <Button
          title='Play'
          onPress={this.pcChoice}
        />
        <Text> Your time: {this.state.time}</Text>
        <Text> Your score: {this.state.score}</Text>
        <Text> Pc choice: {this.state.pcChoice}</Text>
        <Text> Player choice: {this.state.playerChoice}</Text>
      </View>
    )
  }
}

const styles = StyleSheet.create({
  mainContainer: {
    flex: 1,
    backgroundColor: '#bc2f',
    padding: 30
  },
  text: {
    paddingBottom: 10,
    fontSize: 25
  }
})