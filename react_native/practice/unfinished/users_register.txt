import React, {useState, useEffect} from 'react'
import { View, ScrollView, Text, StyleSheet, Keyboard, TouchableWithoutFeedback, FlatList } from 'react-native'
import {Button, Provider, ThemeProvider, Title, TextInput, Subheading} from 'react-native-paper'

const App = () => {

  const [users, setUsers] = useState([])
  const [name, setName] = useState('')
  const [email, setEmail] = useState('')
  const [age, setAge] = useState('')

  const registerUsers = () => {
    setUsers(users.push(name))
  }

  return (
    <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
    <ScrollView style={styles.mainContainer}>
      <Title style={styles.title}>Register User</Title>
      <TextInput 
      mode='flat'
      style={{backgroundColor: 'transparent', margin: 10}}
      keyboardType='default'
      placeholder='your name'
      value={name}
      onChangeText={val => setName(val)}
      />
      <TextInput 
      mode='flat'
      style={{backgroundColor: 'transparent', margin: 10}}
      keyboardType='email-address'
      placeholder='your email'
      value={email}
      onChangeText={val => setEmail(val)}
      />
      <TextInput 
      mode='flat'
      style={{backgroundColor: 'transparent', margin: 10, marginBottom: 30}}
      keyboardType='number-pad'
      placeholder='your age'
      value={age}
      onChangeText={val => setAge(val)}
      />
      <Button mode='contained' onPress={registerUsers}>Register user</Button>
      <Title style={styles.title}>Registered Users:</Title>
      <FlatList
      data={users}
      renderItem={(item)=>(
      <View>
      <Title>{users}</Title>
      </View>
      )}
      keyExtractor={(item, index) => index.toString()}
      />
    </ScrollView>
    </TouchableWithoutFeedback>
  )
}

export default App

const styles = StyleSheet.create({
  mainContainer:{
    flex:1,
    padding: 20,
    backgroundColor: '#aba3aaaa'
  },
  title:{
    fontSize: 22,
    color: '#111111',
    padding: 15,
    marginLeft: 10,
    fontFamily: 'Manrope-Medium'
  },
  Subheading:{
    fontSize: 18,
    padding: 8
  }
})