import React, {useState, useEffect} from 'react'
import { View, StyleSheet, FlatList, Text } from 'react-native'
import { DefaultTheme, Provider as PaperProvider, FAB} from 'react-native-paper';
import {Button, Title, Subheading, Caption, TextInput, Divider, Modal, Portal, Provider} from 'react-native-paper'
import Icon from 'react-native-vector-icons/Feather'
import Slider from '@react-native-community/slider'


const theme = {
  ...DefaultTheme,
  roundness: 2,
  colors:{
    ...DefaultTheme.colors,
    primary: '#52ff',
    acent: '#77ff'
  }
}

  const Alarm = () => {

    const [hours, setHours] = useState(12)
    const [minutes, setMinutes] = useState(30)
    const [displayAlarm, setDisplayAlarm] = useState('')
    const [myAlarms, setMyAlarms] = useState([])

    const newAlarm = () => {
      setMyAlarms([...myAlarms, hours, minutes])
      
    }
    
    return (
      <View style={styles.mainContainer}>
            <Title  style={{fontSize: 25, padding: 20}}>Alarm</Title>
            <Icon
            name='clock'
            size={35}
            color='#77ee'
            />
             <Caption style={{fontSize: 35, padding: 40}}>{`${hours}:${minutes}`}</Caption>
               <Subheading>Set hours</Subheading>
              <Slider
              minimumValue={0}
              maximumValue={23}
              value={hours}
              onValueChange={val => setHours(val)}
              step={1}
              style={{width: 300, padding: 20}}
              thumbTintColor='#55ff'
              maximumTrackTintColor='#55ff'
              minimumTrackTintColor='#55ff'
              />
              <Subheading>Set minutes</Subheading>
              <Slider
              minimumValue={0}
              maximumValue={59}
              value={minutes}
              onValueChange={val => setMinutes(val)}
              step={1}
              style={{width: 300, padding: 20}}
              thumbTintColor='#55ff'
              maximumTrackTintColor='#55ff'
              minimumTrackTintColor='#55ff'
              />
              <Button mode='outlined' onPress={newAlarm}>Start</Button>

              <Title style={{padding: 10}}>My alarms:</Title>

              <FlatList
              data={newAlarm}
              renderItem = {() => (
                <View>
                  <Subheading>{setMyAlarms.map((item) => {return <Title>{item.hours}</Title>})
                }</Subheading>
                </View>
              )}/>
              
        </View>
    )
  }
  
  export default Alarm

  const styles = StyleSheet.create({
  mainContainer: {
    flex: 1,
    flexDirection: 'column',
    padding: 15,
    alignItems: 'center',
  }
})


